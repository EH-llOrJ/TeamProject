<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cat mario</title>
    <link rel="stylesheet" href="/css/login.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@600&display=swap"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body id="bg">
    <!-- 게임 제목 -->
    <div id="header">달려라 인생아</div>
    <!-- loogin 및 ranking Main div 생성 -->
    <div id="logBody">
      <!-- loogin position 구성할 div 생성-->
      <div id="logBodyLeft">
        <!-- loogin content1 -->
        <div class="login">
          <h3 class="log_id">
            <label for="id">아이디</label>
          </h3>
          <input id="id" class="user_id" type="text" maxlength="50" name="id"/>
        </div>
        <!-- loogin content2 -->
        <div class="login">
          <h3 class="log_pw">
            <label for="id">비밀번호</label>
          </h3>
          <input id="password" name="password" class="user_pw" type="password" maxlength="50" />
        </div>
        <!-- loogin content3 -->
        <div class="log_btn1">
          <div class="log_btn-outline">
            <button type="submit" class="log_btn2" onclick="login()">로그인</button>
          </div>
          <!-- <div class="log_btn-outline">
            <button class="logout_btn">로그아웃</button>
          </div> -->
        </div>
        <!-- loogin content4 -->
        <div id="joinFind">
          <a
            href="/kg/signup"
            onclick="window.open(this.href,'회원가입','width=800px , height=650px , toolbar-no , scrollbars=yes'); return false;"
            ><span>회원가입</span></a
          >
          <a href="/kg/searchinfo"><span>ID/PW 찾기</span></a>
        </div>
      </div>
      <!-- ranking 화면 구성할 div 생성 -->
      <div id="logBodyRight"></div>
    </div>
  </body>
  <script>
    function login() {
      let idcheck = $('#id').val();
      let pwcheck = $('#password').val();


      $.ajax({
        url: "/kg/login",
        type: "POST",
        data: {
          id: idcheck,
          pw: pwcheck,
        },
        success: function(data) {
          if (data == "loginfail"){
            alert('id 또는 pw 확인 바랍니다.')
          }
          else if (data == "loginsuc"){
            alert('login 성공')
            window.location='/kg/logout1';
          }
          else {alert('잘못된 요청입니다.')}
        }
      })
    }
  </script>
</html>
